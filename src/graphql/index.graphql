# =============
# ITEM
# =============
fragment ItemInfo on Item {
  id
  code
  name
  description
  price
  currency
  images {
    ...ItemImageInfo
  }
}

query getItemById($id: String!) {
  getItemById(id: $id) {
    ...ItemInfo
  }
}

query getItems($searchText: String) {
  getItems(searchText: $searchText) {
    ...ItemInfo
  }
}

mutation createItem($input: CreateItemInput!) {
  createItem(input: $input) {
    ...ItemInfo
  }
}

mutation updateItem($input: UpdateItemInput!) {
  updateItem(input: $input) {
    ...ItemInfo
  }
}

# =============
# ITEM IMAGE
# =============
fragment ItemImageInfo on ItemImage {
  id
  link
  alt
}

# =============
# ORDER
# =============
fragment OrderInfo on Order {
  id
  referenceNumber
  totalPrice
  createdAt
  status
  placedAt
  orderDetails {
    ...OrderDetailInfo
  }
}

fragment PaginatedOrderInfo on Orders {
  items {
    ...OrderInfo
  }
  total
  hasMore
  page
  pages
}

query getPaginatedOrders(
  $options: CommonFilterOptionInput!
  $filter: FilterOrderInput
) {
  getPaginatedOrders(options: $options, filter: $filter) {
    ...PaginatedOrderInfo
  }
}

query getOrderById($id: String!) {
  getOrderById(id: $id) {
    ...OrderInfo
  }
}

query calculateTotalPrice($input: PlaceOrderInput!) {
  calculateTotalPrice(input: $input) {
    currency
    price
  }
}

query getNextReferenceNumber {
  getNextReferenceNumber
}

mutation createOrder($input: PlaceOrderInput!) {
  createOrder(input: $input) {
    ...OrderInfo
  }
}

# =============
# ORDER DETAILS
# =============
fragment OrderDetailInfo on OrderDetail {
  id
  quantity
  unitPrice
  item {
    ...ItemInfo
  }
}

# =============
# SIGNED URL
# =============
fragment SignedUrlInfo on SignedUrl {
  signedUrl
}

mutation generateSignedUrl($input: CreateUploadInput!) {
  generateSignedUrl(input: $input) {
    ...SignedUrlInfo
  }
}
